<div class="card">
    <div class="card-body"  style="height:70vh">
        <div class="row mx-2">
            <div class="col-md-6">
                <h2 class="bolded"> Employee List</h2>
            </div>
            <div class="col-md-6">

            </div>
        </div>

        <div class="row mx-2">
            <div class="col-6">

                <span>
                    Show
                    <select style="padding: 3px;"
                        (change)="setItemsPerPage(page_items.value)" #page_items>
                        <option selected>10</option>
                        <option>15</option>
                        <option>20</option> 
                    </select>
                    entries
                </span>

            </div>
            <div class="col-md-6">
                <div class="row justify-content-end">
                    <div class="w-auto">
                        <input type="text" class="search-box" placeholder="Search..." [(ngModel)]="search_key" (keyup.enter)="getEmployeeList(1)" />
                        <span class="clear-field" (click)="cancel()" *ngIf="search_key && search_key !== ''">&#10006;</span>
                        <span (click)="getEmployeeList(1)">
                            <i class="fa fa-search"></i>
                        </span>
                    </div>
                    <button class="btn btn-primary w-auto mx-2" (click)="openEmployeeModal(add)" >Add Emplopyee</button>
                    <button type="button" class="btn btn-outline-secondary w-auto" routerLink="//forms/section"><i class="fas fa-arrow-left"></i>Back</button>
                </div>
            </div>
        </div>

        <div class="col-md-12 mt-2">

            <div class="scroll">
                <table class="table table-light border " id="tags-table">
                    <thead>
                        <tr>
                            <th><span class="mx-3" > S.No </span> </th>
                            <th>Emplopyee Id</th>
                            <th>Emplopyee Name</th>
                            <th>Employee Depratment</th>
                            <th>Attedance</th>
                            <th>Employee Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr *ngFor="let list of employeeList | paginate : { id: 'server', itemsPerPage: per_page, currentPage: page_no, totalItems: total };let i = index ">

                            <td> <span class="mx-3" > {{i+ showing_from}} </span> </td>
                            <td>{{list.recipe_template_name}}</td>
                            <td>{{list.grade_name}}</td>
                            <td>{{list?.production_date }}</td>
                            <td>{{list.target_heat_cycle_time}}</td>
                            <td>{{list.production_status}}</td>
                            <td>
                                <!-- <button mat-icon-button matTooltip="Edit" color="primary" class="top" >
                                  Edit
                                </button> -->
                                <button matTooltip="copy" class="btn btn-primary btn-sm top " >
                                    Edit
                                </button>
                            </td>
                        </tr>
                        <tr *ngIf="employeeList?.length == 0">
                            <td colspan="9" class="text-center">No Employee List Found</td>
                        </tr>
                    </tbody>



                </table>

            </div>


            <table *ngIf="employeeList.length > 0" class="rpt-count pagination-view" width="100%" style="display: table;">
                <tbody>
                    <tr>
                        <td> <span class="compliance_count">Showing {{ showing_from }} to {{ showing_to }} of {{
                                total }} entries </span>
                        </td>

                        <td style="text-align:right;padding-right:10px;">
                            <div class="has-text-centered">
                                <pagination-controls (pageChange)="getEmployeeList($event)" id="server"></pagination-controls>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<ng-template #add let-modal >
    <div class="modal-content">
        <div class="modal-header">
            <h3>ADD DEPARTMENT</h3>
        </div>
        <div class="modal-body">
           

            <form [formGroup]="employeeForm">
                <div class="form-row row">
                    <div class="form-group col-md-6">
                        <label class="required">Employee Name</label>
                        <input type="text" formControlName="depName" class="form-control" name="empName" placeholder="Employee Name" required="">
                    </div>

                    <div class="form-group col-md-6 ">
                        <label class="required">Employee ID</label>
                        <input type="number" formControlName="empID" class="form-control" name="empId" placeholder="Employee Id" required="">
                    </div>

                   
                </div>

                <div class="form-row row ">
                    <div class="form-group col-md-6 ">
                        <label class="required">Department</label>
                        <select class="form-control" formControlName="department"  >
                            <option value="" [attr.disabled]="true">Select Department</option>
                            <option *ngFor="let dep of departmentList" value="{{dep.id}}">{{dep.name}}</option>
                          </select>
                    </div>

                    <div class="form-group col-md-6 ">
                        <label class="required">Sub Department</label>
                        <select class="form-control" formControlName="subDepartment"  >
                            <option value="" [attr.disabled]="true">Select Sub Department</option>
                            <option *ngFor="let dep of subDepartmentList" value="{{dep.id}}">{{dep.name}}</option>
                          </select>
                        
                    </div>
                    <!-- <div class="form-group col-md-6 mt-2">
                        <label class="required">Team</label>
                        <select class="form-control" formControlName="team"  >
                            <option value="" [attr.disabled]="true">Select Team</option>
                            <option *ngFor="let team of teamList" value="{{team.id}}">{{team.name}}</option>
                          </select>
                       
                    </div> -->
                </div>



            </form>


        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" (click)="addEmployee()" >Add</button>
            <button class="btn btn-outline-secondary" (click)="close()" >Close</button>
        </div>
    </div>
</ng-template>